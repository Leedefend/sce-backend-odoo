# BOQ 模型阶段 1 字段设计（仅文档，暂不改代码）

## 新增字段（阶段 1 先落库，不参与计算逻辑）

- **is_group**  
  - 类型：Boolean（索引：是，便于分组过滤）  
  - 中文名：是否章节/汇总行  
  - 含义：标记该行是否为章节/标题/汇总节点。阶段 1 仅存储标记，不驱动行为。  
  - 后续用途：阶段 2/3 用于层级展示、只读控制、汇总计算（区分章节 vs 清单项）。

- **hierarchy_code**  
  - 类型：Char（索引：否）  
  - 中文名：层级编号  
  - 含义：保存导入时解析到的层级编号（如 `1`、`1.1`、`1.1.2`），与 Excel 编号对齐。暂不参与任何业务逻辑。  
  - 后续用途：阶段 2/3 用于回显原始编号、辅助层级校验。

- **display_order**  
  - 类型：Char（索引：是，便于排序）  
  - 中文名：显示排序键  
  - 含义：为列表视图提供稳定的排序键（如 `001.001.005`），由导入/重算逻辑生成，阶段 1 仅存储，不用于排序。  
  - 后续用途：阶段 2/3 用于统一排序（还原 Excel 原序），避免 sequence/parent_path 变动导致的顺序漂移。

## 备注
- 阶段 1 仅新增字段定义与存储，不改现有计算/视图/导入逻辑，确保行为稳定。  
- 阶段 2/3 再引入：  
  - 导入器填充 is_group/hierarchy_code/display_order；  
  - 视图排序与只读控制；  
  - 可能的层级重算/校验工具。***
