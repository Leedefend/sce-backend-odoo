FROM ubuntu:22.04

ARG DEBIAN_FRONTEND=noninteractive

# 基础工具链（团队开发必备）
RUN apt-get update && apt-get install -y --no-install-recommends \
    git \
    make \
    curl \
    ca-certificates \
    bash \
    tzdata \
    openssh-client \
    python3 \
    python3-pip \
 && rm -rf /var/lib/apt/lists/*

# 创建开发用户（与你现在习惯一致：odoo:1000）
RUN useradd -m -u 1000 -s /bin/bash odoo \
 && mkdir -p /workspaces \
 && chown -R odoo:odoo /workspaces

USER odoo
WORKDIR /workspaces

CMD ["bash", "-lc", "sleep infinity"]
